---
title: ComfyUI with ZLUDA for AMD 680M
---

# ComfyUI with ZLUDA for AMD Radeon 680M

<Callout type="warning">
This guide is currently under construction.
</Callout>

import { Callout } from 'nextra/components'

<Callout type="info">
  Affiliate links in this guide help support this documentation at no extra cost to you.
</Callout>

This guide was created for the AMD Radeon 680M integrated graphics using Windows. It can be likely be adapted for other AMD GPUs.

The mini-pc used in this example is the [GMKTec M7 with a 680M](https://amzn.to/4hfiFUN).

## Overview

ZLUDA (CUDA on AMD) is a compatibility layer that allows CUDA applications to run on AMD GPUs. This guide will walk you through installing and configuring the ComfyUI ZLUDA specifically optimized for AMD hardware, including the AMD Radeon 680M integrated graphics.

**What you'll need:**
- A system with AMD Radeon 680M integrated graphics (or similar AMD GPU)
- Windows 10/11 (ZLUDA currently works on Windows)
- At least 16GB of system RAM (more is better for larger models)
- ~20GB of free storage space for ComfyUI and initial models

The following are some required guidelines to keep in mind from the start.

<Callout type="warning">
  **CRITICAL SETUP REQUIREMENTS**

  These steps are **mandatory** for ZLUDA to work properly:

  1. **Use Command Prompt, NOT PowerShell** - PowerShell will cause issues
  2. **Clone to drive root** (e.g., `C:\ComfyUI-Zluda`) - Do not use nested directories
  3. **Use Python 3.11.9 specifically** - Other versions will cause issues
  4. **Exclude directory from Windows Defender** - ([see why](https://github.com/patientx/ComfyUI-Zluda?tab=readme-ov-file))
  5. **Carefully copy all required libraries and add ons** - Missing dependencies will cause failures
</Callout>

Not following the above will result in a painful experience. Trust me.

## 1. Required Software

### Git SCM
Download and then run the installer: [download here](https://git-scm.com/)

### Visual c++ runtime library
Download and then run the installer: [download here](https://aka.ms/vs/17/release/vc_redist.x64.exe)

### Python 
For this to work you specifically need Python 3.11.9 downloaded directly from the Python website. It must not be the version from the Microsoft store. In fact, I highly recommended uninstalling the version that is installed by default. Python 3.11.9 must also be the default.

To uninsall the Microsoft Store version open up the "Add or remove programs" application by searching for it in the taskbar

![search](/photos/artificial-intelligence/comfyui-zluda-amd/search.png)

Scroll down and identify any currently installed Python entries and uninstall them. There may be two entries, one for Python itself and one for "Python Launcher". Both are safe to uninstall. 

(Python 3.11.9 is shown in the photo, but you should be uninstalling whatever version is currently installed on your system)

![uninstall](/photos/artificial-intelligence/comfyui-zluda-amd/uninstall.png)

Now install the correct version. You can find the correct Python version here: https://www.python.org/downloads/release/python-3119/ - scroll to the bottom and download the one titled "Windows installer (64-bit)"

![python installer](/photos/artificial-intelligence/comfyui-zluda-amd/python-download.png)

[TODO ADD MORE PHOTOS HERE]

## 2. Install HIP SDK 6.2.4

Navigate to [AMD ROCm Hub](https://www.amd.com/en/developer/resources/rocm-hub/hip-sdk.html) and identify the "Windows 10 & 11", "6.2.4" row and click the Download Link. 

<Callout type="warning" emoji="⚠️">
Make sure to select 6.2.4 and NOT 6.4.2
</Callout>

![HIP Download](/photos/artificial-intelligence/comfyui-zluda-amd/hip-download.png)

Follow the install instructions.

Open up the Environmental Variables and ensure HIP_PATH and HIP_PATH_62 exist and point to `C:\Program Files\AMD\ROCm\6.2\`

![HIP Path](/photos/artificial-intelligence/comfyui-zluda-amd/hip-path.png)

Make sure the "Path" variable contains `C:\Program Files\AMD\ROCm\6.2\bin`. Select "Path" then "Edit"

![Edit Path](/photos/artificial-intelligence/comfyui-zluda-amd/edit-path.png)

If `C:\Program Files\AMD\ROCm\6.2\bin` does not exist, click the "New" button and then add it.

![HIP Path Added](/photos/artificial-intelligence/comfyui-zluda-amd/hip-path-added.png)

Download the HIP Extension from [Google Drive](https://drive.google.com/file/d/1Gvg3hxNEj2Vsd2nQgwadrUEY6dYXy0H9/view?usp=sharing). Once downloaded you will need to extract the files, and then paste them into `C:\Program Files\AMD\ROCm\6.2`, overwriting any files when prompted.

Next, download the library files from [likelovewant](https://github.com/likelovewant/ROCmLibs-for-gfx1103-AMD780M-APU/releases/tag/v0.6.2.4) for HIP 6.2.4. The 680M is gfx1035 so download the corresponding file in the "Assets" section (scroll down a bit).

![gfx1035](/photos/artificial-intelligence/comfyui-zluda-amd/gfx1035.png)

It is a 7z file but you should be able to extract the files once downloaded. There will be a file named `rocblas.dll` and a folder named `library`.

![rocblas](/photos/artificial-intelligence/comfyui-zluda-amd/rocblas.png)

Copy the `rocblas.dll` file to `C:\Program Files\AMD\ROCm\6.2\bin`. Next, go to `C:\Program Files\AMD\ROCm\6.2\bin\rocblas` and rename the library  folder to `library-backup`. Then paste the `library` folder you just downloaded into that directory.

![library-folder](/photos/artificial-intelligence/comfyui-zluda-amd/library-folder.png)

## 3. Install Visual Studio Build Tools
You may already have this, it will let you know if you do. Navigate to [Visual Studio Build Tools](https://aka.ms/vs/17/release/vs_BuildTools.exe) and download the .exe and run it.

<Callout type="warning" emoji="⚠️">
After installation reboot your system.
</Callout>

### 4. Install ZLUDA ComfyUI

Open the Command Prompt at the root of your C drive or the root of any other drive you want to use and run:

```bash
git clone https://github.com/patientx/ComfyUI-Zluda
```

```bash
cd ComfyUI-Zluda
```

```bash
install-n.bat
```

This will take some time as everything installs. There are some big downloads like PyTorch so be patient as everything installs. After the install completes, ComfyUI will automatically open up. I highly recommend at least having 32GB of RAM since it is shared with the 680M.

To stop ComfyUI you can press "CTRL+C" in the CMD prompt. To start it again you will need to run `comfyui-n.bat`. For conviencne I like to place a shortcut ont he desktop

## Final Thoughts

For the 680M's shared memory architecture:

1. **Start with SD 1.5 models** - Smaller and faster than SDXL
2. **Use pruned models** - Look for "pruned" or "emaonly" versions
3. **Avoid SDXL initially** - Requires significantly more VRAM

Workflow Tips

1. **Use lower resolutions initially** - Start with 512x512
2. **Enable preview images** - Monitor generation progress
3. **Batch size of 1** - Multiple images increase memory pressure
4. **Close other applications** - Free up system RAM

Realistic expectations for AMD 680M:

- **SD 1.5 @ 512x512**: ~30-60 seconds per image
- **SD 1.5 @ 768x768**: ~60-120 seconds per image
- **SDXL models**: May not run reliably due to memory constraints

The 680M is capable for learning and experimentation, but not ideal for production workloads. More capable GPUs can create images in a few seconds and will provide a much more pleasant experience. If planning to upgrade I highly recommend an NVIDIA card as things are much easier since ComfyUI should work out of the box.

**Note**: ZLUDA and AMD GPU support for AI workloads is rapidly evolving. Check for updated installation instructions and compatibility information regularly.
